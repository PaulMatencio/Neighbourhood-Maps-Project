function gMaps(e,t){this.mapCenter=mapOptions.mapCenter,this.map=new google.maps.Map(document.querySelector("#map-canvas"),mapOptions),this.infoWindow=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(-23,-10)}),this.marker_animation=google.maps.Animation.DROP,this.styledMap=new google.maps.StyledMapType(t,{name:"Styled Map"}),this.map.mapTypes.set("map_style",this.styledMap),this.map.setMapTypeId("map_style"),this.markers=[]}gMaps.prototype.getCurrentLocation=function(){var e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){this.mapCenter={lat:e.coords.latitude,lng:e.coords.longitude}},function(){this.mapCenter=this.map.getCenter()}.bind(this),e):this.mapCenter=this.map.getCenter(),mapCenter},gMaps.prototype.nearbySearch=function(e){var t=this,a=new google.maps.places.PlacesService(t.map);a.nearbySearch({location:e,radius:radius,types:myCategories},t.getResults.bind(t))},gMaps.prototype.getResults=function(e,t,a){function n(e){return"political"==e}var o=new google.maps.LatLngBounds,i=this.self;i.nearByPlaces([]),myCategories=[],t==google.maps.places.PlacesServiceStatus.OK&&(e.forEach(function(e){0==e.types.filter(n).length&&(i.nearByPlaces.push(e),o.extend(e.geometry.location))}),this.map.fitBounds(o),this.createMarkers(i.nearByPlaces()))},gMaps.prototype.initAutocomplete=function(){function e(){myCategories=[];var e=i.getPlaces(),a=e.length;a>0&&(1==a?t.nearbySearch(e[0].geometry.location):(n.nearByPlaces(e),t.createMarkers(e))),o.value=""}var t=this,a=this.map,n=this.self,o=document.getElementById("search-input"),i=new google.maps.places.SearchBox(o);a.addListener("bounds_changed",function(){i.setBounds(a.getBounds()),mapCenter=a.getCenter()}),i.addListener("places_changed",e)},gMaps.prototype.createMarkers=function(e){var t=Math.sqrt($(window).width())+20,a=this;this.markers.forEach(function(e){e.setMap(null)}),this.markers=[],e.forEach(function(e){var n={url:e.icon,size:new google.maps.Size(t,t),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(t/4,t/2),scaledSize:new google.maps.Size(t/2.8,t/2.8)},o=new google.maps.Marker({map:a.map,icon:n,title:e.name,animation:a.marker_animation,position:e.geometry.location}),i=window.innerWidth,r=window.innerHeight,s=150,p=-r/5;800>i&&(s=-20,p=-1*(r/2-100)),o.addListener("click",function(){a.markers.forEach(function(e){e.setAnimation(null)}),null!==o.getAnimation()?o.setAnimation(null):(o.setAnimation(google.maps.Animation.BOUNCE),a.map.panTo(o.position),a.map.panBy(s,p))}),a.markers.push(o),google.maps.event.addListener(o,"click",function(){a.addInfoWindow(e,o)})})},gMaps.prototype.addInfoWindow=function(e,t){var a=new google.maps.places.PlacesService(this.map),n=this,o=this.self,i=this.infoWindow;a.getDetails({placeId:e.place_id},function(e,a){if(a===google.maps.places.PlacesServiceStatus.OK){var r=o.getWebsite(e);i.setContent('<div id="infoWindow" class="infoWindow"><p><h3>'+e.name+"</h3></p><hr><p><span>"+e.formatted_address+'</span></p><p><span class="opening>'+e.opening_hours+'</span></p><br><div id="wiki" style="white-space: normal;"><span></span></div><hr>'+n.getRating(e)+n.getPhotoes(e)+"</div></p><p><span>"+n.getPhone(e)+'</span></p><p><div class="longtext"><a href="'+r+'" target="_blank">'+r+'<a></div><hr style="background: #ffbccd;"><img style="width: 20px;" src="images/Foursquare-icon.png"><a href="#" id="fourLink" style="display: inline;"> Top 5 place by 4Square</a>'),i.open(n.map,t),$(".infoWindow").fadeIn(500),o.placePhotos(e.photos),document.getElementById("photoLink").addEventListener("click",function(){function t(e){o+=e,0===o?($("#prev").hide(),$("#next").show()):o===n-1?($("#next").hide(),$("#prev").show()):($("#prev").show(),$("#next").show()),$("#frame").children().eq(o-e).hide(),$("#frame").children().eq(o).show(),a()}function a(){$("#photoCounter").text(o+1+" / "+n)}$("#photoViewer").show();var n=e.photos.length,o=0;t(0),$("#next").click(function(){t(1)}),$("#prev").click(function(){t(-1)}),$("#close-photo").click(function(){$("#frame").children().hide(),$("#photoViewer").hide(),o=0})});var s=$("#reviews");s&&s.click(function(){o.placeReviews([]),o.placeInFocus(e),e.reviews.forEach(function(e){""!==e.text&&o.placeReviews.push(e)}),$("#review-page").show(),$("#reviews").children().show(),$("#close-review").click(function(){$("#reviews").children().hide(),$("#review-page").hide()})});var p=document.getElementById("fourLink");p&&p.addEventListener("click",function(){o.foursquarePlaces(getFourSquare(e)),$("#foursquare-page").show(),$("#close-foursquare").click(function(){$("#foursquare").children().hide(),$("#foursquare-page").hide()})})}}),google.maps.event.addListener(i,"closeclick",function(){n.markers.forEach(function(e){e.setAnimation(null)}.bind(this))})},gMaps.prototype.getRating=function(e){var t=this.self,a="",n=t.rateImg(e.rating);if(e.rating){a='<div><span style="color: #df6d15; padding-right: 3px;">'+e.rating+"</span>";for(var o in n)o&&(a+='<img class="rate-star" src="'+n[o].star+'" />');return a+'<a id="reviews"  href="#"">reviews,</a>'}return'<span style="font-style: italic;">no rating available</span>'},gMaps.prototype.getPhone=function(e){return e.international_phone_number?e.international_phone_number:"<span>Location:"+e.geometry.location+"</span>"},gMaps.prototype.getPhotoes=function(e){return e.photos&&e.photos.length>1?'<a style="margin-left: 5px;" id="photoLink" href="#"">photos</a>':'<div id="photoLink"></div></div>'};var mapPlaceTypes=["accounting","airport","amusement_park","aquarium","art_gallery","atm","bakery","bank","bar","beauty_salon","bicycle_store","book_store","bowling_alley","bus_station","cafe","campground","car_dealer","car_rental","car_repair","car_wash","casino","cemetery","church","city_hall","clothing_store","convenience_store","courthouse","dentist","department_store","doctor","electrician","electronics_store","embassy","establishment","finance","fire_station","florist","food","funeral_home","furniture_store","gas_station","general_contractor","grocery_or_supermarket","gym","hair_care","hardware_store","health","hindu_temple","home_goods_store","hospital","insurance_agency","jewelry_store","laundry","lawyer","library","liquor_store","local_government_office","locksmith","lodging","meal_delivery","meal_takeaway","mosque","movie_rental","movie_theater","moving_company","museum","night_club","painter","park","parking","pet_store","pharmacy","physiotherapist","place_of_worship","plumber","police","post_office","real_estate_agency","restaurant","roofing_contractor","rv_park","school","shoe_store","shopping_mall","spa","stadium","storage","store","subway_station","synagogue","taxi_stand","train_station","travel_agency","university","veterinary_care","zoo"],mapStyle=[{featureType:"road.local",elementType:"labels",stylers:[{hue:"#00a1ff"},{gamma:.8}]},{featureType:"road.highway",stylers:[{lightness:12},{gamma:1.31},{hue:"#ffa200"}]},{featureType:"landscape.natural"}],mapCenter={lat:52.3702,lng:4.8953},winWidth=$(window).width(),myCategories=[],radius=2e3,today=new Date,mapOptions={center:mapCenter,zoomControl:!0,zoom:14,minZoom:3,maxZoom:18,disableDefaultUI:!0,streetViewControl:!0};