<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <link rel="stylesheet"  type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet"  type="text/css" href="css/style.css" media="screen" title="no title">
    <title>Your neighborhood</title>
  </head>
  <body>
    <!--div tag that holds the google map-->
    <div id="map-canvas"></div>

    <div id="search-box" class="input-group" group="controls">
      <input id="search-input"  type="text" class="form-control" placeholder="Search for...">
    </div>

    <!-- place search result -->
    <div class="results container" group="controls">
      <div class="wide_title">
        <img style="height: 30px; margin: 5px" src="images/info.jpg" alt="info">
        <h2>Nearby places</h2>
      </div>

      <ul id="mainInfoList" class="infolist" data-bind="foreach: nearByPlaces">
        <li class="mainListElement" data-bind="click: $parent.clickMarker">
          <div class="row">
          <!-- picture -->
            <div class="col-md-4">
              <div data-bind="if: $data.photos">
                <img class="list-photo"  data-bind="attr:{src: photos[0].getUrl({maxWidth: 80})}" alt="place-photo">
              </div>
              <div data-bind="ifnot: $data.photos">
                <img class="list-photo" src="images/nophoto.jpg" alt="no-photo">
              </div>
            </div>
            <!-- end picture -->         
            <!-- place information-->
            <div class="col-md-8">
              <h3 class="longtext" data-bind="text: $data.name"></h3>
              <p class="place-category"><span data-bind="text: $parent.formattedType($data)"></span></p>
              <p>
                <div data-bind="visible: $data.rating > 0">
                  <div>
                    <span class="rating-number" data-bind="text: $data.rating"></span>
                    <div style="display: inline;" data-bind="foreach: $parent.rateImg($data.rating)">
                     <img class="rate-star" data-bind="attr:{src: star}" alt="*">
                    </div>
                  </div>
                </div>
                <span data-bind="visible: $data.rating == 0 ">
                  <em>no rating available.</em>
                </span>
              </p>
              <p class="place-address"><span data-bind="text: $parent.getAddress($data)"></span></p>   
            </div> 
            <!-- end of place inforantion -->
          
          </div>
        </li>
      </ul>

      <div class="logo">
        <span>powered by </span>
        <img src="images/googlelogo.jpg" alt="Google" />
      </div>
    </div><!-- end of place search result -->

    <div id="prev-list" class="navigator" group="controls">
        <img class="navButton" src="images/prev_button.png">
    </div>

    <div  id="next-list" class="navigator" group="controls">
      <img class="navButton" src="images/next_button.png">
    </div>

    <div id="btn-toolbar" group="controls">

      <button id="reset" type="core" class="btn btn-default" style="display: block">
        <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
      </button>

      <div id="filters" class="btn-group" data-bind="foreach: icons" role="group" aria-label="plane">
        <!--placeholder for filter buttons-->
        <button type="button" class="btn btn-default">
          <img class="btn-toolbar-img" data-bind="attr: {src: icon}" alt="icon">
        </button><br>
      </div>

      <button id="hide" type="core" class="btn btn-default" style="display: block">
        <span class="glyphicon glyphicon-triangle-left" aria-hidden="true"></span>
      </button>
    </div>

    <div id="photoViewer"  class="viewport" style="display: none;">
      <img id="close-photo"  group="closeButton" class="navButton" src="images/close_button.png" alt="X">
      <img id="prev" class="navButton" src="images/prev_button.png" alt="<">
      <img id="next" class="navButton" src="images/next_button.png" alt=">">
      <div id="frame" data-bind="foreach: placePhotos">
        <img class="photo" style="margin: 0 1px 0 1px;" data-bind="attr:{id: $index, src: $data.getUrl({maxHeight: 600})}" alt="photo">
      </div>
      <span id="photoCounter" class="navButton"></span>
    </div>

    <!--review page -->
    <div id="review-page"  class="viewport" style="display: none;">
      <img id="close-review"  group="closeButton" class="navButton" src="images/close_button.png" alt="X">
      <div class="myContainer">
        <div class="review-title" data-bind="with: placeInFocus">
          <p>
            <div class="longtext">
              <strong data-bind="text: $data.name"></strong>
            </div>
            <div style="float: right;">
              <span class="rating-number" style="font-size: 16px;" data-bind="text: $data.rating"></span>
              <div style="display: inline;" data-bind="foreach: $root.rateImg($data.rating)">
                <img style="height: 16px;" class="rate-star" data-bind="attr:{src: star}" alt="*">
              </div>
            </div>
          </p>
          <p class="greytext"><span data-bind="text: $data.formatted_address"></span></p>
        </div>
        <ul class="infolist" data-bind="foreach: placeReviews"><!--id="reviews" -->
          <li style="margin-bottom: 15px;">
            <strong style="display: inline" data-bind="text: $data.author_name"></strong>
            <div style="display: inline">
              <span class="rating-number" data-bind="text: $data.rating"></span>
              <div style="display: inline;" data-bind="foreach: $root.rateImg($data.rating)">
                <img class="rate-star" data-bind="attr:{src: star}" alt="*">
              </div>
            </div>
            <p>
              <span class="review" data-bind="text: $data.text"></span>
            </p>
          </li>
        </ul>
        <div class="logo">
          <span>powered by </span>
          <img src="images/googlelogo.jpg" alt="Google" />
        </div>
      </div>
    </div> <!--end review page -->

    <!--Foursquare page-->
    <div id="foursquare-page" class="viewport" style="display: none;">
      <img id="close-foursquare" group="closeButton" class="navButton" src="images/close_button.png" alt="X">
      <div class="myContainer">
        <div class="title">
          <strong>Top 5 close places by  </strong>
          <img src="images/Foursquare-icon.png" alt="4Square.icon" />
          <strong>Foursquare</strong>
          <p>
            <a href="https://foursquare.com/" target="_blank">https://foursquare.com</a>
          </p><br>
        </div>
        <ul class="infolist" data-bind="foreach: foursquarePlaces">
          <li style="margin-bottom: 15px;">
            <strong data-bind="text: venue.name"></strong>
            <div class="rating_group">
              <span class="rating-number" data-bind="text: venue.rating"></span>
              <div style="display: inline;" data-bind="foreach: $root.rateImg(Math.round(venue.rating) / 2)">
                <img class="rate-star" data-bind="attr:{src: star}" alt="*">
              </div>
            </div>
            <p class="4Square-name"><span data-bind="text: venue.categories[0].name"></span></p><br>
            <p class="4Square-address"><span data-bind="text: venue.location.formattedAddress"></span></p><br>
            <p>
              <strong>Tips: </strong>
              <span data-bind="if: $data.tips">
                <span data-bind="text: tips[0].text"></span>
              </span>
              <span data-bind="ifnot: $data.tips">
                <em>no tips available.</em>
              </span>
            </p>
            <a style="margin-left: 6px;" data-bind="text: venue.url, attr: {href: venue.url}"></a>
          </li>
        </ul>
        <div class="logo">
          <img src="images/Foursquare-poweredby.png" alt="powered by Foursquare" />
        </div>
      </div>
    </div> <!--end foursquare page -->

    <!-- load scripts -->
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places" defer></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script>
    <script type="text/javascript" src="http://knockoutjs.com/downloads/knockout-3.3.0.js"></script>
    <script type="text/javascript" src="js/gMaps.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
  </body>
</html>
